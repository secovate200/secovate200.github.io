---
title: 10.컴퓨터가 변수를 처리하는 방법
date: 2025-03-15 10:50:00 +0900
categories: [Programing,C]
tags: [C]
mermaid: true
---

## 컴퓨터가 변수를 처리하는 방법
- 컴퓨터에서는 프로그램이 실행되기 위해 프로그램이 메모리에 적재되어야 합니다.
- 당연히 프로그램의 크기를 충당할수 있을 만큼의 메모리가 존재하여야 합니다.
- 일반적인 컴퓨터의 운영체제는 메모리 공간을 4가지로 구분하여 관리합니다.

|코드영역|데이터영역|힙영역|스택영역|
|-------|---------|-----|--------|
| 소스코드 | 전역변수,정적변수 | 동적할당변수 | 지역변수,매개변수 |

### 전역변수
- 전역변수란 프로그램의 어디서든 접근 가능한 변수를 말합니다.
- main함수가 실행되기 전에 프로그램의 시작과 동시에 메모리에 할당됩니다.
- 프로그램의 크기가 커질수록 전역변수로 인해 프로그램이 복잡해질수 있습니다.
- 메모리의 Data영역에 적재됩니다.

```c
#include<stdio.h>
int a=10;
void changevalue(){
  a=5;
}
int main(void){
  printf("a의 값은 %d 입니다.",a);
  changevalue();
  printf("바뀐 a의 값은 %d 입니다.",a);

  return 0;
}

```

### 지역변수
- 지역변수란 프로그램에서 특정한 블록에서만 접근할수 있는 변수를 말합니다.
- 함수가 실행될 때마다 메모리에 할당되어 함수가 종료되면 메모리에서 헤제됩니다.
- stack영역에 기록됩니다.

```c
int main(void){
  int a = 7; //a에 7을 넣는다.
  if (1) {
  int a = 5;// 지역변수 a를 선언하고 5를 넣는다.
  }
  printf("%d", a);// 7이 출력된다.
  return 0;
}
```

### 정적변수
- 정적변수란 특정블록에서만 접근가능한 변수입니다.
- 프로그램에서 실행될 경우 메모리에 할당되어 프로그램이 종료되면 메모리에서 헤제 됩니다.
- 메모리의 데이터 영역에 적재됩니다. 

```c
#include<stdio.h>
 void process() {
    static int a = 5;
    a = a + 1;
    printf("%d\n", a);
 }

 int main(void) {
    process();
    process();
    process();
    return 0;
 }

```

### 레지스터변수
- 메모리 대신 CPU의 레지스터를 사용하는 변수입니다.
- 레지스터는 매우 한정적이여서 실제로 레지스터에서 처리될지는 장담할수 없습니다. 

```c
#include<stdio.h>

 int main(void) {
  register int a=10;
  for (int i=0;i<a; i++){
    printf("%d ",i);
  }
  return 0;
 }
```

### 함수의 매개변수가 처리될때

- 함수를 호출할때마다 필요한 데이터를 매개변수로 전달합니다.
- 전달 방식은 값에 의한 전달방식과 참조에 의한 전달방식이 있습니다.
- 값에 의한 전달방식은 단지 값을 전달하므로 함수 내에서 변수가 새롭게 생성됩니다.
- 참조에 의한 전달방식은 주소를 전달하므로 원래의 변수 자체에 접근할수 있습니다.

#### 값에의한 전달방식
- 아래와 같이 add함수를 만들었을때 두개의 매개변수에 값을 넣으면 새롭게 두 변수가 메모리 내에 할당되어 처리됩니다.
- 따라서 원래 변수 값에 영향을 미치지 않습니다.

```c
#include<stdio.h>
void add(int a,int b){
  a=a+b;
}
 int main(void) {
  int a=7;
  add(a,10);
  printf("%d",a);
  return 0;
 }
```

#### 참조에 의한 전달방식
- 참조에 의한 전달방식은 매개변수로 값을 전달하는 것이 아니라 변수의 주소를 전달합니다. 
- 이러한 방식을 이용하면 원래 변수의 값에 접근하여 값을 변경할수 있습니다.

```c
#include<stdio.h>
void add(int *a){
 *a =(*a)+10;
}
 int main(void) {
  int a=7;
  add(&a);
  printf("%d",a);
  return 0;
 }

```